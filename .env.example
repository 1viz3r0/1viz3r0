# ============================================================================
# ONE-Go Security Backend - Environment Variables Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control
# ============================================================================

# ============================================================================
# Server Configuration
# ============================================================================
PORT=5000
NODE_ENV=development
# NODE_ENV options: development, production

# ============================================================================
# Database Configuration (MongoDB)
# ============================================================================
MONGODB_URI=mongodb://localhost:27017/one-go-security
# For MongoDB Atlas (cloud):
# MONGODB_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>

# ============================================================================
# JWT Authentication Configuration
# ============================================================================
# Generate a secure secret: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-secret-key-here-generate-a-random-string
JWT_EXPIRE=7d
# JWT_EXPIRE options: 7d, 14d, 30d, etc.

# ============================================================================
# Email Configuration (SMTP)
# ============================================================================
# Using Gmail: https://myaccount.google.com/apppasswords
# Using other email providers: check their SMTP settings
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-specific-password
# EMAIL_PASSWORD for Gmail: Generate at https://myaccount.google.com/apppasswords
# EMAIL_PASSWORD is NOT your regular Gmail password

# ============================================================================
# SMS/Twilio Configuration (for phone number verification)
# ============================================================================
# Sign up at: https://www.twilio.com
# Create a Verify Service for OTP
TWILIO_ACCOUNT_SID=your-account-sid
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_VERIFY_SERVICE_SID=your-verify-service-sid

# ============================================================================
# Frontend Configuration (for CORS and OAuth callbacks)
# ============================================================================
FRONTEND_URL=http://localhost:5173
# For production: https://yourdomain.com

# ============================================================================
# Google OAuth Configuration (optional, for OAuth login)
# ============================================================================
# Set up at: https://console.cloud.google.com
# Create OAuth 2.0 credentials (Web Application)
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
# For extension OAuth (optional):
GOOGLE_EXTENSION_CLIENT_ID=your-extension-client-id.apps.googleusercontent.com
GOOGLE_EXTENSION_CLIENT_SECRET=your-extension-client-secret

# ============================================================================
# Scanning Services Configuration (optional, for extension features)
# ============================================================================

# VirusTotal API
# Sign up at: https://www.virustotal.com
VIRUSTOTAL_API_KEY=your-virustotal-api-key

# MetaDefender API
# Sign up at: https://www.metadefender.com
METADEFENDER_API_KEY=your-metadefender-api-key

# OWASP ZAP API (for website scanning)
# Download: https://www.zaproxy.org/download/
ZAP_API_URL=http://127.0.0.1:8080
ZAP_API_KEY=your-zap-api-key

# ============================================================================
# ClamAV Configuration (optional, for file scanning)
# ============================================================================
CLAMAV_HOST=127.0.0.1
CLAMAV_PORT=3310

# ============================================================================
# Speed Test Configuration (optional)
# ============================================================================
LIBRESPEED_API_URL=https://librespeed.org

# ============================================================================
# Security & 2FA Configuration
# ============================================================================
# TOTP (Time-based One-Time Password) - for Google Authenticator, Authy, etc.
# Enable 2FA: Feature flag for enabling/disabling 2FA system-wide
ENABLE_2FA=true

# Remember Device Token Expiry (in days)
REMEMBER_DEVICE_EXPIRY=30

# Password Reset Token Expiry (in hours)
PASSWORD_RESET_TOKEN_EXPIRY=1

# ============================================================================
# Logging & Debugging
# ============================================================================
# Enable detailed logging
DEBUG=false
LOG_LEVEL=info
# LOG_LEVEL options: error, warn, info, debug, trace

# ============================================================================
# Rate Limiting & Security
# ============================================================================
RATE_LIMIT_WINDOW_MS=900000
# Default: 15 minutes (900000 ms)
RATE_LIMIT_MAX_REQUESTS=100
# Maximum requests per window
RATE_LIMIT_AUTH_MAX=50
# Maximum authentication attempts per window
 
# Frontend build flag: when true the login/register UI will be disabled
# Create a `.env` in the `client/` folder (or set during build) with:
# VITE_DISABLE_AUTH=true
# Default recommended value for local dev: false
# Example: in PowerShell:
#  cd client
#  $env:VITE_DISABLE_AUTH = 'true'; npm run build
